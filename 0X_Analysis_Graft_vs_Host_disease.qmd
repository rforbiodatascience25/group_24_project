---
title: "0X_Analysis_Graft_vs_Host_disease"
format: html
editor: visual
---

# Graft vs. host disease in relation to Survival

Dataset: *Bone Marrow Transplantation: Children*

We want to look at the relationship between relapse and secondary transplants in patients and how it affects their odds of survival.

Variables used:

| Variable | Description | Value | Missing values |
|:----------------:|:----------------:|:----------------:|------------------|
| `aGvHDIIIIV` | Development of acute graft versus host disease stage III or IV | Yes, No | No, kind of |
| `extcGvHD` | Development of extensive chronic graft versus host disease | Yes, No | Yes |
| `time_to_aGvHD_III_IV` | Time to development of acute graft versus host disease stage III or IV | Integer, time in days | No |
| X? |  |  |  |
| X? |  |  |  |

: Table 1: The data used for this analysis is from `03_dat_aug` ? using these variables: `aGvHDIIIIV`, `extcGvHD`, `time_to_aGvHD_III_IV`, X & X.

## Data Wrangling

### Initiate Libraries

We start by loading the relevant libraries.

```{r}
library(tidyverse)
#library("table1")

```

We then load a subset of the cleaned and augmented data frame as a tibble.

```{r}

bm_data <- read_tsv(file = "data/03_dat_aug.tsv.gz",
                            show_col_types = FALSE)

```

It contains 186 values and follows the guidelines for tidy data, with:

-   Each variable having its own column.

-   Each observation having its own row.

-   Each value having its own cell.

Some variables used in this analysis contains missing values or very high values, see table 1 for more details. The high values correspond with other data.

The full tibble can be seen here.

```{r}
bm_data
```

## Data Analysis

### Development of Acute Graft

We look at the time it takes to develop acute graft vs. host disease and how the data is structured.

We do this by creating a subset using 2 variables to look into the development of acute graft vs. host disease stage III & IV.

```{r}
acute_graft_data <- bm_data |>
  select(aGvHDIIIIV,
         time_to_aGvHD_III_IV) 

acute_graft_data
```

Further look into values.

```{r}
acute_graft_data |>
  filter(aGvHDIIIIV == "Yes") |>
  summarise()
```

We see that entries with no development of acute graft vs. host disease has been marked with high values of 10\^6 days.

If we filter by they patients that accuiqred acute graft vs. host disease we see that

```{r}
acute_graft_data |>
  filter(aGvHDIIIIV == "Yes") |>
  ggplot(mapping = aes(x = time_to_aGvHD_III_IV,
                       y = aGvHDIIIIV,
                       fill = aGvHDIIIIV)) +
  geom_boxplot(show.legend = FALSE) +
  labs(title = "Time to develop Acute Graft vs. Host disease",
       x = "Time in days",
       y = "Development of Acute Graft vs. Host disease") 
  
  
  
```

This is in statistics INSERT HERE!

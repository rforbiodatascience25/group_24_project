"0","# Get variable names and clean them"
"0","raw_data <- read_lines(""data/_raw/bone-marrow.arff"")"
"0","var_names <- raw_data |>"
"0","  str_subset(""^@attribute"") |>"
"0","  str_remove_all(pattern = ""@attribute|\\{.*\\}|numeric|\\s"")"
"0",""
"0","# Find line where data begins"
"0","data_start <- which(str_detect(raw_data, pattern = ""^@data""))+1"
"0",""
"0","# Create tibble"
"0","data_clean <- read_delim(""data/_raw/bone-marrow.arff"", "
"0","                      delim = "","", "
"0","                      skip = data_start,"
"0","                      col_names = var_names,"
"0","                      na = ""?"","
"0","                      col_types = ""i"""
"0","                      )  |>"
"0","  mutate(across(c(1:2, 4:22, 24:28, 37), factor))"
"0",""
"0","# write data to gzip tsv file "
"0","data_clean |> write_tsv(""data/02_dat_clean.tsv.gz"")"
"0",""
